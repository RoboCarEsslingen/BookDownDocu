<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 17 based on example in https://www.youtube.com/watch?v=2xcUzXataIk | RoboCar project documentation</title>
  <meta name="description" content="Notes taken by Uwe for the RoboCar project" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 17 based on example in https://www.youtube.com/watch?v=2xcUzXataIk | RoboCar project documentation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Notes taken by Uwe for the RoboCar project" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 17 based on example in https://www.youtube.com/watch?v=2xcUzXataIk | RoboCar project documentation" />
  
  <meta name="twitter:description" content="Notes taken by Uwe for the RoboCar project" />
  

<meta name="author" content="Uwe Sterr" />


<meta name="date" content="2020-02-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="section-4.html"/>
<link rel="next" href="experiences.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RoboCar project documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Project RoboCar</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-join-us"><i class="fa fa-check"></i><b>1.1</b> How to join us</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#faq"><i class="fa fa-check"></i><b>1.2</b> FAQ</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="donkeyCar.html"><a href="donkeyCar.html"><i class="fa fa-check"></i><b>2</b> Building and operate a donkeycar</a><ul>
<li class="chapter" data-level="2.1" data-path="donkeyCar.html"><a href="donkeyCar.html#reason-for-changing-the-plattform"><i class="fa fa-check"></i><b>2.1</b> Reason for changing the plattform</a><ul>
<li class="chapter" data-level="2.1.1" data-path="donkeyCar.html"><a href="donkeyCar.html#carSelection"><i class="fa fa-check"></i><b>2.1.1</b> Selecting a RC car</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="donkeyCar.html"><a href="donkeyCar.html#what-to-do"><i class="fa fa-check"></i><b>2.2</b> What to do</a></li>
<li class="chapter" data-level="2.3" data-path="donkeyCar.html"><a href="donkeyCar.html#carWiring"><i class="fa fa-check"></i><b>2.3</b> Rewiring the car</a><ul>
<li class="chapter" data-level="2.3.1" data-path="donkeyCar.html"><a href="donkeyCar.html#parts-list"><i class="fa fa-check"></i><b>2.3.1</b> Parts list</a></li>
<li class="chapter" data-level="2.3.2" data-path="donkeyCar.html"><a href="donkeyCar.html#why-not-using-pca9685"><i class="fa fa-check"></i><b>2.3.2</b> Why not using PCA9685</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="donkeyCar.html"><a href="donkeyCar.html#folders-created-during-installation-of-host-pc"><i class="fa fa-check"></i><b>2.4</b> Folders created during installation of host PC</a></li>
<li class="chapter" data-level="2.5" data-path="donkeyCar.html"><a href="donkeyCar.html#calibrate-the-car"><i class="fa fa-check"></i><b>2.5</b> Calibrate the car</a><ul>
<li class="chapter" data-level="2.5.1" data-path="donkeyCar.html"><a href="donkeyCar.html#setting-wifi-up-for-the-raspberry"><i class="fa fa-check"></i><b>2.5.1</b> Setting WIFI up for the raspberry</a></li>
<li class="chapter" data-level="2.5.2" data-path="donkeyCar.html"><a href="donkeyCar.html#steering-calibration"><i class="fa fa-check"></i><b>2.5.2</b> Steering Calibration</a></li>
<li class="chapter" data-level="2.5.3" data-path="donkeyCar.html"><a href="donkeyCar.html#throttle-calibration"><i class="fa fa-check"></i><b>2.5.3</b> Throttle Calibration</a></li>
<li class="chapter" data-level="2.5.4" data-path="donkeyCar.html"><a href="donkeyCar.html#configpyAfterCalib"><i class="fa fa-check"></i><b>2.5.4</b> Config.py after calibration</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="donkeyCar.html"><a href="donkeyCar.html#drive-your-car-with-web-interface"><i class="fa fa-check"></i><b>2.6</b> Drive your car with web interface</a><ul>
<li class="chapter" data-level="2.6.1" data-path="donkeyCar.html"><a href="donkeyCar.html#preparation-on-mac"><i class="fa fa-check"></i><b>2.6.1</b> Preparation on Mac</a></li>
<li class="chapter" data-level="2.6.2" data-path="donkeyCar.html"><a href="donkeyCar.html#preparation-on-raspberry"><i class="fa fa-check"></i><b>2.6.2</b> Preparation on Raspberry</a></li>
<li class="chapter" data-level="2.6.3" data-path="donkeyCar.html"><a href="donkeyCar.html#open-control-in-web-browser-on-mac"><i class="fa fa-check"></i><b>2.6.3</b> Open control in web browser on Mac</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="donkeyCar.html"><a href="donkeyCar.html#connecting-bluetooth-controller"><i class="fa fa-check"></i><b>2.7</b> Connecting bluetooth controller</a><ul>
<li class="chapter" data-level="2.7.1" data-path="donkeyCar.html"><a href="donkeyCar.html#BluetoothControllerInstall"><i class="fa fa-check"></i><b>2.7.1</b> Connect your bluetooth controller to the raspberry pi.</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="donkeyCar.html"><a href="donkeyCar.html#start-driving-or-training"><i class="fa fa-check"></i><b>2.8</b> Start driving or training</a><ul>
<li class="chapter" data-level="2.8.1" data-path="donkeyCar.html"><a href="donkeyCar.html#create-movie-from-tub-data"><i class="fa fa-check"></i><b>2.8.1</b> Create movie from tub data</a></li>
<li class="chapter" data-level="2.8.2" data-path="donkeyCar.html"><a href="donkeyCar.html#options-of-manage.py"><i class="fa fa-check"></i><b>2.8.2</b> Options of manage.py</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="donkeyCar.html"><a href="donkeyCar.html#tips-on-how-to-drive-during-training"><i class="fa fa-check"></i><b>2.9</b> Tips on how to drive during training</a><ul>
<li class="chapter" data-level="2.9.1" data-path="donkeyCar.html"><a href="donkeyCar.html#how-to-edit-recorded-data"><i class="fa fa-check"></i><b>2.9.1</b> How to edit recorded data</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="donkeyCar.html"><a href="donkeyCar.html#mange-recorded-data"><i class="fa fa-check"></i><b>2.10</b> Mange recorded data</a><ul>
<li class="chapter" data-level="2.10.1" data-path="donkeyCar.html"><a href="donkeyCar.html#archiving-data"><i class="fa fa-check"></i><b>2.10.1</b> Archiving data</a></li>
<li class="chapter" data-level="2.10.2" data-path="donkeyCar.html"><a href="donkeyCar.html#delete-data"><i class="fa fa-check"></i><b>2.10.2</b> Delete data</a></li>
<li class="chapter" data-level="2.10.3" data-path="donkeyCar.html"><a href="donkeyCar.html#copy-files-from-raspi-to-mac"><i class="fa fa-check"></i><b>2.10.3</b> Copy files from raspi to mac</a></li>
<li class="chapter" data-level="2.10.4" data-path="donkeyCar.html"><a href="donkeyCar.html#how-big-is-the-tub-folder"><i class="fa fa-check"></i><b>2.10.4</b> How big is the tub folder</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="donkeyCar.html"><a href="donkeyCar.html#train-neural-network"><i class="fa fa-check"></i><b>2.11</b> Train neural network</a></li>
<li class="chapter" data-level="2.12" data-path="donkeyCar.html"><a href="donkeyCar.html#run-car-on-neural-net"><i class="fa fa-check"></i><b>2.12</b> Run car on neural net</a><ul>
<li class="chapter" data-level="2.12.1" data-path="donkeyCar.html"><a href="donkeyCar.html#change-model"><i class="fa fa-check"></i><b>2.12.1</b> change model</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="donkeyCar.html"><a href="donkeyCar.html#see-rainers-description"><i class="fa fa-check"></i><b>2.13</b> See Rainer’s description</a></li>
<li class="chapter" data-level="2.14" data-path="donkeyCar.html"><a href="donkeyCar.html#build-pre-processing-pipe-line"><i class="fa fa-check"></i><b>2.14</b> Build pre processing pipe line</a><ul>
<li class="chapter" data-level="2.14.1" data-path="donkeyCar.html"><a href="donkeyCar.html#install-opencv-on-the-raspi"><i class="fa fa-check"></i><b>2.14.1</b> Install openCV on the raspi</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="donkeyCar.html"><a href="donkeyCar.html#bluetooth-key-mapping"><i class="fa fa-check"></i><b>2.15</b> bluetooth key mapping</a></li>
<li class="chapter" data-level="2.16" data-path="donkeyCar.html"><a href="donkeyCar.html#load-h5-model-and-inspect"><i class="fa fa-check"></i><b>2.16</b> Load h5 model and inspect</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Conncectivity.html"><a href="Conncectivity.html"><i class="fa fa-check"></i><b>3</b> Wireless connections Raspi, Controller, Mac</a><ul>
<li class="chapter" data-level="3.1" data-path="Conncectivity.html"><a href="Conncectivity.html#purpose-of-connections"><i class="fa fa-check"></i><b>3.1</b> Purpose of connections</a></li>
<li class="chapter" data-level="3.2" data-path="Conncectivity.html"><a href="Conncectivity.html#setting-up-of-the-wireless-connections"><i class="fa fa-check"></i><b>3.2</b> Setting up of the wireless connections</a><ul>
<li class="chapter" data-level="3.2.1" data-path="Conncectivity.html"><a href="Conncectivity.html#bluetooth-connection"><i class="fa fa-check"></i><b>3.2.1</b> Bluetooth connection</a></li>
<li class="chapter" data-level="3.2.2" data-path="Conncectivity.html"><a href="Conncectivity.html#wifi-connection"><i class="fa fa-check"></i><b>3.2.2</b> Wifi connection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html"><i class="fa fa-check"></i><b>4</b> Donkey Command-line Utilities</a><ul>
<li class="chapter" data-level="4.1" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#create-car"><i class="fa fa-check"></i><b>4.1</b> Create Car</a></li>
<li class="chapter" data-level="4.2" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#find-car"><i class="fa fa-check"></i><b>4.2</b> Find Car</a></li>
<li class="chapter" data-level="4.3" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#calibrate-car"><i class="fa fa-check"></i><b>4.3</b> Calibrate Car</a></li>
<li class="chapter" data-level="4.4" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#clean-data-in-tub"><i class="fa fa-check"></i><b>4.4</b> Clean data in Tub</a></li>
<li class="chapter" data-level="4.5" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#make-movie-from-tub"><i class="fa fa-check"></i><b>4.5</b> Make Movie from Tub</a></li>
<li class="chapter" data-level="4.6" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#tubclean"><i class="fa fa-check"></i><b>4.6</b> Check Tub</a></li>
<li class="chapter" data-level="4.7" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#histogram"><i class="fa fa-check"></i><b>4.7</b> Histogram</a></li>
<li class="chapter" data-level="4.8" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#plot-predictions"><i class="fa fa-check"></i><b>4.8</b> Plot Predictions</a></li>
<li class="chapter" data-level="4.9" data-path="donkey-command-line-utilities.html"><a href="donkey-command-line-utilities.html#simulation-server"><i class="fa fa-check"></i><b>4.9</b> Simulation Server</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html"><i class="fa fa-check"></i><b>5</b> Donkeycar software analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#how-to-add-parts-to-a-vehicle"><i class="fa fa-check"></i><b>5.1</b> How to add parts to a vehicle</a><ul>
<li class="chapter" data-level="5.1.1" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#function-v.start"><i class="fa fa-check"></i><b>5.1.1</b> Function V.start()</a></li>
<li class="chapter" data-level="5.1.2" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#function-v.update_parts"><i class="fa fa-check"></i><b>5.1.2</b> Function V.update_parts()</a></li>
<li class="chapter" data-level="5.1.3" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#function-v.add"><i class="fa fa-check"></i><b>5.1.3</b> Function V.add</a></li>
<li class="chapter" data-level="5.1.4" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#threadedParts"><i class="fa fa-check"></i><b>5.1.4</b> Concept of threads vs non-threaded parts</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#structure-of-manage.py"><i class="fa fa-check"></i><b>5.2</b> Structure of <code>manage.py</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#creating-manage.py"><i class="fa fa-check"></i><b>5.2.1</b> Creating <code>manage.py</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#starting-manage.py"><i class="fa fa-check"></i><b>5.2.2</b> Starting <code>manage.py</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#parsing-the-command-line-parameters"><i class="fa fa-check"></i><b>5.2.3</b> Parsing the command line parameters</a></li>
<li class="chapter" data-level="5.2.4" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#function-drive"><i class="fa fa-check"></i><b>5.2.4</b> Function <code>drive</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#locate-modules-on-raspi-which-are-being-imported-by-manage.py"><i class="fa fa-check"></i><b>5.3</b> Locate modules on raspi which are being imported by manage.py</a></li>
<li class="chapter" data-level="5.4" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#AssignStickToAction"><i class="fa fa-check"></i><b>5.4</b> Assignment of WiiU controller sticks to action</a></li>
<li class="chapter" data-level="5.5" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#setMaxVel"><i class="fa fa-check"></i><b>5.5</b> Limit max velocity</a><ul>
<li class="chapter" data-level="5.5.1" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#limit-max-velocity-for-joystick-input"><i class="fa fa-check"></i><b>5.5.1</b> Limit max velocity for joystick input</a></li>
<li class="chapter" data-level="5.5.2" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#limit-max-velocity-for-ai-pilot"><i class="fa fa-check"></i><b>5.5.2</b> Limit max velocity for ai pilot</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#LedIndicatingRecordingMode"><i class="fa fa-check"></i><b>5.6</b> Add LED to indicate recording mode</a><ul>
<li class="chapter" data-level="5.6.1" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#wiring-of-led-to-pwmservo-hat"><i class="fa fa-check"></i><b>5.6.1</b> Wiring of LED to PWM/Servo HAT</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="donkeyCarSoftwareAnalysis.html"><a href="donkeyCarSoftwareAnalysis.html#change-default-recording-status-to-false"><i class="fa fa-check"></i><b>5.7</b> Change default recording status to false</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><i class="fa fa-check"></i><b>6</b> Installation of Tawn Kramers donkeycar version (By Rainer Bareiß)</a><ul>
<li class="chapter" data-level="6.1" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#environment"><i class="fa fa-check"></i><b>6.1</b> Environment</a></li>
<li class="chapter" data-level="6.2" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#sudo-raspi-config"><i class="fa fa-check"></i><b>6.2</b> sudo raspi-config</a></li>
<li class="chapter" data-level="6.3" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#etcwpa_supllicantwpa_supplicant.conf"><i class="fa fa-check"></i><b>6.3</b> etc/wpa_supllicant/wpa_supplicant.conf</a></li>
<li class="chapter" data-level="6.4" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#installs"><i class="fa fa-check"></i><b>6.4</b> installs</a></li>
<li class="chapter" data-level="6.5" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#install-donkey-on-pi"><i class="fa fa-check"></i><b>6.5</b> install donkey on pi</a></li>
<li class="chapter" data-level="6.6" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#config.piy"><i class="fa fa-check"></i><b>6.6</b> 5. config.piy</a></li>
<li class="chapter" data-level="6.7" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#bluetooth"><i class="fa fa-check"></i><b>6.7</b> bluetooth</a></li>
<li class="chapter" data-level="6.8" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#wii-u-controller"><i class="fa fa-check"></i><b>6.8</b> 8. wii u controller</a></li>
<li class="chapter" data-level="6.9" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#autostart-donkeycar"><i class="fa fa-check"></i><b>6.9</b> autostart donkeycar</a></li>
<li class="chapter" data-level="6.10" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#steering-calibration-1"><i class="fa fa-check"></i><b>6.10</b> Steering Calibration</a></li>
<li class="chapter" data-level="6.11" data-path="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html"><a href="installation-of-tawn-kramers-donkeycar-version-by-rainer-bareiß.html#drive"><i class="fa fa-check"></i><b>6.11</b> drive</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><i class="fa fa-check"></i><b>7</b> Driving &amp; Training following Tawn Kramer (By Rainer Bareiß)</a><ul>
<li class="chapter" data-level="7.1" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#environment-1"><i class="fa fa-check"></i><b>7.1</b> Environment</a></li>
<li class="chapter" data-level="7.2" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#read-data-from-pi"><i class="fa fa-check"></i><b>7.2</b> Read data from pi</a></li>
<li class="chapter" data-level="7.3" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#check-data-raw-prepared"><i class="fa fa-check"></i><b>7.3</b> Check data raw &amp; prepared</a></li>
<li class="chapter" data-level="7.4" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#clean-data"><i class="fa fa-check"></i><b>7.4</b> 3. Clean data</a></li>
<li class="chapter" data-level="7.5" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#make-movie"><i class="fa fa-check"></i><b>7.5</b> Make movie</a></li>
<li class="chapter" data-level="7.6" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#tubhist"><i class="fa fa-check"></i><b>7.6</b> tubhist</a></li>
<li class="chapter" data-level="7.7" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#train-data"><i class="fa fa-check"></i><b>7.7</b> Train Data</a></li>
<li class="chapter" data-level="7.8" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#plot-data-against-model"><i class="fa fa-check"></i><b>7.8</b> Plot data against model</a></li>
<li class="chapter" data-level="7.9" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#run-in-simulator"><i class="fa fa-check"></i><b>7.9</b> Run in simulator</a></li>
<li class="chapter" data-level="7.10" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#copy-model-to-pi"><i class="fa fa-check"></i><b>7.10</b> Copy model to pi</a></li>
<li class="chapter" data-level="7.11" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#run-model-on-pi"><i class="fa fa-check"></i><b>7.11</b> Run model on pi</a></li>
<li class="chapter" data-level="7.12" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#watch-pi-camera"><i class="fa fa-check"></i><b>7.12</b> 11. Watch pi camera</a></li>
<li class="chapter" data-level="7.13" data-path="driving-training-following-tawn-kramer-by-rainer-bareiß.html"><a href="driving-training-following-tawn-kramer-by-rainer-bareiß.html#reinfocement-learning"><i class="fa fa-check"></i><b>7.13</b> Reinfocement Learning</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="robocarLogBook.html"><a href="robocarLogBook.html"><i class="fa fa-check"></i><b>8</b> RoboCar Logbook</a><ul>
<li class="chapter" data-level="8.1" data-path="robocarLogBook.html"><a href="robocarLogBook.html#section"><i class="fa fa-check"></i><b>8.1</b> 15-02-2018</a><ul>
<li class="chapter" data-level="8.1.1" data-path="robocarLogBook.html"><a href="robocarLogBook.html#donkey-findcar"><i class="fa fa-check"></i><b>8.1.1</b> donkey findcar</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="robocarLogBook.html"><a href="robocarLogBook.html#build-sunfounder-car-17-02-2018"><i class="fa fa-check"></i><b>8.2</b> Build sunfounder car 17-02-2018</a><ul>
<li class="chapter" data-level="8.2.1" data-path="robocarLogBook.html"><a href="robocarLogBook.html#install-software-18-02-2018"><i class="fa fa-check"></i><b>8.2.1</b> install software 18-02-2018</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="section-1.html"><a href="section-1.html"><i class="fa fa-check"></i><b>9</b> =============================================================================</a></li>
<li class="chapter" data-level="10" data-path="the-function-is-to-send-the-command-forward-to-the-server-so-as-to-make-the.html"><a href="the-function-is-to-send-the-command-forward-to-the-server-so-as-to-make-the.html"><i class="fa fa-check"></i><b>10</b> The function is to send the command forward to the server, so as to make the</a></li>
<li class="chapter" data-level="11" data-path="car-move-forward-.html"><a href="car-move-forward-.html"><i class="fa fa-check"></i><b>11</b> car move forward.</a></li>
<li class="chapter" data-level="12" data-path="section-2.html"><a href="section-2.html"><i class="fa fa-check"></i><b>12</b> =============================================================================</a></li>
<li class="chapter" data-level="13" data-path="section-3.html"><a href="section-3.html"><i class="fa fa-check"></i><b>13</b> =============================================================================</a></li>
<li class="chapter" data-level="14" data-path="bind-buttons-on-the-keyboard-with-the-corresponding-callback-function-to.html"><a href="bind-buttons-on-the-keyboard-with-the-corresponding-callback-function-to.html"><i class="fa fa-check"></i><b>14</b> Bind buttons on the keyboard with the corresponding callback function to</a></li>
<li class="chapter" data-level="15" data-path="control-the-car-remotely-with-the-keyboard-.html"><a href="control-the-car-remotely-with-the-keyboard-.html"><i class="fa fa-check"></i><b>15</b> control the car remotely with the keyboard.</a></li>
<li class="chapter" data-level="16" data-path="section-4.html"><a href="section-4.html"><i class="fa fa-check"></i><b>16</b> =============================================================================</a></li>
<li class="chapter" data-level="17" data-path="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><i class="fa fa-check"></i><b>17</b> based on example in <span>https://www.youtube.com/watch?v=2xcUzXataIk</span></a><ul>
<li class="chapter" data-level="17.0.1" data-path="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#raspberry-pi-rc-control"><i class="fa fa-check"></i><b>17.0.1</b> RASPBERRY PI RC CONTROL</a></li>
<li class="chapter" data-level="17.0.2" data-path="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#python-class-to-support-xbox-360-controller-under-linux-on-raspberrypi"><i class="fa fa-check"></i><b>17.0.2</b> Python class to support xbox 360 controller under Linux on RaspberryPi</a></li>
<li class="chapter" data-level="17.0.3" data-path="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#xbox-driver-for-mac"><i class="fa fa-check"></i><b>17.0.3</b> xbox driver for mac</a></li>
<li class="chapter" data-level="17.0.4" data-path="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#konzept-für-softwareschichten"><i class="fa fa-check"></i><b>17.0.4</b> Konzept für softwareschichten</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experiences.html"><a href="experiences.html"><i class="fa fa-check"></i><b>18</b> Experiences gathered</a><ul>
<li class="chapter" data-level="18.1" data-path="experiences.html"><a href="experiences.html#install-donkey-car-on-mac"><i class="fa fa-check"></i><b>18.1</b> Install donkey car on Mac</a></li>
<li class="chapter" data-level="18.2" data-path="experiences.html"><a href="experiences.html#donkey-car-simulator"><i class="fa fa-check"></i><b>18.2</b> Donkey car simulator</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="Theory.html"><a href="Theory.html"><i class="fa fa-check"></i><b>19</b> Theory</a><ul>
<li class="chapter" data-level="19.1" data-path="Theory.html"><a href="Theory.html#wiring-of-pca9685-with-l298n-h-bridge"><i class="fa fa-check"></i><b>19.1</b> Wiring of PCA9685 with L298N H-bridge</a></li>
<li class="chapter" data-level="19.2" data-path="Theory.html"><a href="Theory.html#sensor-fusion-of-lidar-and-camera-data"><i class="fa fa-check"></i><b>19.2</b> sensor fusion of LIDAR and camera data</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="UsefulLinks.html"><a href="UsefulLinks.html"><i class="fa fa-check"></i><b>20</b> Useful links</a><ul>
<li class="chapter" data-level="20.1" data-path="UsefulLinks.html"><a href="UsefulLinks.html#donkey-car"><i class="fa fa-check"></i><b>20.1</b> Donkey car</a><ul>
<li class="chapter" data-level="20.1.1" data-path="UsefulLinks.html"><a href="UsefulLinks.html#videos-for-donkey-car"><i class="fa fa-check"></i><b>20.1.1</b> Videos for donkey car</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="UsefulLinks.html"><a href="UsefulLinks.html#parts-to-build-a-robocar"><i class="fa fa-check"></i><b>20.2</b> Parts to build a RoboCar</a></li>
<li class="chapter" data-level="20.3" data-path="UsefulLinks.html"><a href="UsefulLinks.html#little-setup-helpers"><i class="fa fa-check"></i><b>20.3</b> Little setup helpers</a></li>
<li class="chapter" data-level="20.4" data-path="UsefulLinks.html"><a href="UsefulLinks.html#meetup-in-stuttgart-area"><i class="fa fa-check"></i><b>20.4</b> Meetup in Stuttgart area</a></li>
<li class="chapter" data-level="20.5" data-path="UsefulLinks.html"><a href="UsefulLinks.html#robocar-projects"><i class="fa fa-check"></i><b>20.5</b> RoboCar projects</a></li>
<li class="chapter" data-level="20.6" data-path="UsefulLinks.html"><a href="UsefulLinks.html#write-ups-on-donkeycar-projects"><i class="fa fa-check"></i><b>20.6</b> Write ups on Donkeycar projects</a></li>
<li class="chapter" data-level="20.7" data-path="UsefulLinks.html"><a href="UsefulLinks.html#other-stuff"><i class="fa fa-check"></i><b>20.7</b> Other stuff</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/RoboCarEsslingen" target="blank">Related files on Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RoboCar project documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="based-on-example-in-httpswww.youtube.comwatchv2xcuzxataik" class="section level1">
<h1><span class="header-section-number">Chapter 17</span> based on example in <a href="https://www.youtube.com/watch?v=2xcUzXataIk" class="uri">https://www.youtube.com/watch?v=2xcUzXataIk</a></h1>
<p>url = “<a href="http://192.168.178.67:8080/?action=snapshot" class="uri">http://192.168.178.67:8080/?action=snapshot</a>”<br />
imgNp = np.array(bytearray(imgResp.read()), dtype = np.uint8)
img = cv2.imdecode(imgNp,-1)
cv2.imshow(“test”,img)
cv2.imwrite( “Snapshot.jpg”, img );
cv2.waitKey(10000)</p>
<pre><code>
### Jie Hou&#39;s alternative

Jie has another solution for the same task, see https://drive.google.com/drive/folders/10U8ZTr_2HVnBWrFqvVFGO0UyQn0vCmiE

The code is
</code></pre>
<p>import cv2
import numpy as np
try:
from urllib.request import urlopen
except ImportError:
from urllib2 import urlopen</p>
<p>print(‘# capture image from video #’)
stream = urlopen(‘<a href="http://192.168.0.101:8080/?action=stream" class="uri">http://192.168.0.101:8080/?action=stream</a>’)
bytes = bytes()
FlagSaveImage = 0
while True:
bytes += stream.read(1024)
a = bytes.find(b’8’)
b = bytes.find(b’9’)
print(’ #a: ‘, a,’ ,b: ‘, b)
if a != -1 and b != -1:
jpg = bytes[a: b + 2]
bytes = bytes[b+2:]
image = cv2.imdecode(np.fromstring(jpg, dtype=np.uint8), cv2.IMREAD_COLOR)
cv2.imshow(’image’, image)
if FlagSaveImage == 0:
cv2.imwrite(‘test.jpg’, image)
FlagSaveImage = 1
if cv2.waitKey(1) == 27:
exit(0)</p>
<pre><code>

&lt;!--chapter:end:059-RoboCarLogBook.Rmd--&gt;

# Resources {#resources}

In this section interesting resources for different topics are listed



## Meetups

### Esslinger Makerspace Projekt: Autonomen RoboCar bauen 

https://www.meetup.com/Esslingen-Makerspace/

Ob ihr euer eigenes RoboCar entwickeln wollt, oder lieber ein kleines Team bilden wollt, hier seit ihr richtig.

 

&lt;img src=&quot;images/EliasCar.jpg&quot; width=&quot;300&quot; /&gt;



### Autonomous Mobility Berlin

https://www.meetup.com/autonomous-mobility-berlin/

This is a group for anyone interested and intrigued by Autonomous Mobility, Self-Driving Cars (SDC). Robots. We will cover topics on related technologies - Computer Vision, Deep Learning, Reinforcement learning, evolutionary computation, Sensor Fusion, ROS etc..




## RoboCar projects

### DIY RoboCars
https://diyrobocars.com/about/

This is the sister site to DIY Drones and resource/community companion to the DIY Robocars Meetup Group. Created by Chris Anderson of 3DR.


### Donkey car
http://www.donkeycar.com

An opensource DIY self driving platform for small scale cars. 
RC CAR  +  Raspberry Pi + Python (tornado, keras, tensorflow, opencv, ....) 

The [documentation](http://docs.donkeycar.com) of the project includes:

1.  Assemble hardware.
2.  Install software.
3.  Calibrate your car.
4.  Start driving.
5.  Train an autopilot.
6.  Experiment with simulator



 
&lt;img src=&quot;images/donkey-car-graphic_orig.jpg&quot; width=&quot;449&quot; /&gt;


The code can be found at [github](https://github.com/wroscoe/donkey )


### Sunfounder Smart Video Car Kit for Raspberry Pi with Android App

https://www.sunfounder.com/robotic-drone/smartcar/smart-video-car-kit/rpi-car.html

This is a complete learning kit based on Raspberry Pi with Android App. For better learning, an elaborately-written user manual, code with explanation and thorough schematic diagrams are provided. 

Available at [amazon](https://www.amazon.de/dp/B01ANIY3EC/ref=psdc_1626220031_t3_B071J21R3D)
 

&lt;img src=&quot;images/sunfounder.jpg&quot; width=&quot;300&quot; /&gt;

Sunfounder software is found at [github](https://github.com/sunfounder/Sunfounder_Smart_Video_Car_Kit_for_RaspberryPi)

Documentation can be found at https://www.sunfounder.com/learn/category/Smart-Video-Car-V2-0-for-Raspberry-Pi-Pi-Car-V.html

### Kuman Professional WIFI Smart Robot Model Car Kit Videokamera for Raspberry Pi 3
Einfache Montage und Bedienung: Das ist ein komplettes WIFI-Lern-Smart-Roboter-Kit mit 8GB-Karte basierend auf Raspberry Pi 3 Controlled by ISO Android App. Für den Betrieb leicht, Code of smart Robot System sind in 8 GB Karte vorinstalliert. Für ein besseres Lernen, eine ausführliche schriftliche Benutzerhandbuch, Code mit Erklärung und schematische Diagramme werden von kuman zur Verfügung gestellt.

[Available at amazon](https://www.amazon.de/Kuman-Professional-Videokamera-Fernbedienung-Elektronische/dp/B071J21R3D/ref=sr_1_2_sspa?ie=UTF8&amp;qid=1518681363&amp;sr=8-2-spons&amp;keywords=raspberry+pi+3&amp;psc=1)

## Hardware
In this section hardware related information is presented

### KOMPONENTENLISTE FÜR EIN FERNGESTEUERTES ROBOTER AUTO

https://custom-build-robots.com/raspberry-pi-roboter-auto-komponenten

Ingmar Stapel from Munich keeps this list up to date

- ROBOTER AUTO GEHIRN – RASPBERRY PI 3 MODEL B
- RASPBERRY PI – KAMERAS IM ÜBERBLICK
- MOTORTREIBER L298N H-BRÜCKE
- STEP-DOWN CONVERTER (MEINE EMPFEHLUNG)
- MOTOREN


### Motor control
How to control steer and throttle

#### PCA9685 

##### 16-KANAL PCA9685 SERVO KONTROLLER – TEIL 1 EINFÜHRUNG UND AUFBAU

https://custom-build-robots.com/raspberry-pi-elektronik/16-kanal-pca9685-servo-kontroller-i2c-schnittstelle-einfuehrung-aufbau/8040 

- 16 channels
- From Adafruit
- Connect to Raspberry via I2C
- 3.3V supply
- For motor control together with L298N H-bridge



Table: (\#tab:unnamed-chunk-5)Wiring PCA9685 Raspberry Pi

Raspberry_Pi    Servo_Driver 
--------------  -------------
Pin 1 (3,3 V)   VCC          
Pin 6 (GND)     GND          
GPIO 2 (SDA)    SDA          
GPIO 3 (SCL)    SCL          

##### Adafruit 16 Channel Servo Driver with Raspberry Pi 

https://learn.adafruit.com/adafruit-16-channel-servo-driver-with-raspberry-pi/overview 

Good explanation with link to github code and wiring example

#### Wii sensor 
Could use wii sensor instead of camera


## Simulators

### Donkey Simulator
http://docs.donkeycar.com/guide/simulator/  
Experiment with training a donkey car to drive in simulation. This simulator is built on the the Unity game platform, uses their internal physics and graphics, and connects to a donkey Python process to use our trained model to control the simulated Donkey.



## Software

### Udacitiy open source SDC
https://github.com/udacity/self-driving-car

At Udacity, we believe in democratizing education. How can we provide opportunity to everyone on the planet? We also believe in teaching really amazing and useful subject matter. When we decided to build the Self-Driving Car Nanodegree program, to teach the world to build autonomous vehicles, we instantly knew we had to tackle our own self-driving car too.

Together with Google Self-Driving Car founder and Udacity President Sebastian Thrun, we formed our core Self-Driving Car Team. One of the first decisions we made? Open source code, written by hundreds of students from across the globe! 

### connect raspberry with xbox controller

good tutorial with example code
https://tutorials-raspberrypi.de/raspberry-pi-xbox-360-controller-steuern/ 

you find a code example


```python
import RPi.GPIO as GPIO
import math
import xbox
 
GPIO_LED_GREEN  = 23
GPIO_LED_RED    = 22
GPIO_LED_YELLOW = 27
GPIO_LED_BLUE   = 17
 
GPIO_SERVO_PIN  = 25
 
 
GPIO.setmode(GPIO.BCM)
GPIO.setwarnings(False)
 
GPIO.setup(GPIO_LED_GREEN, GPIO.OUT)
GPIO.setup(GPIO_LED_RED, GPIO.OUT)
GPIO.setup(GPIO_LED_YELLOW, GPIO.OUT)
GPIO.setup(GPIO_LED_BLUE, GPIO.OUT)
GPIO.setup(GPIO_SERVO_PIN, GPIO.OUT)
 
 
def updateServo(pwm, angle):
    duty = float(angle) / 10.0 + 2.5
    pwm.ChangeDutyCycle(duty)
 
def angleFromCoords(x,y):
    angle = 0.0
    if x==0.0 and y==0.0:
        angle = 90.0
    elif x&gt;=0.0 and y&gt;=0.0:
        # first quadrant
        angle = math.degrees(math.atan(y/x)) if x!=0.0 else 90.0
    elif x&lt;0.0 and y&gt;=0.0:
        # second quadrant
        angle = math.degrees(math.atan(y/x))
        angle += 180.0
    elif x&lt;0.0 and y&lt;0.0:
        # third quadrant
        angle = math.degrees(math.atan(y/x))
        angle += 180.0
    elif x&gt;=0.0 and y&lt;0.0:
        # third quadrant
        angle = math.degrees(math.atan(y/x)) if x!=0.0 else -90.0
        angle += 360.0
    return angle
 
if __name__ == &#39;__main__&#39;:
    joy = xbox.Joystick()
    pwm = GPIO.PWM(GPIO_SERVO_PIN, 100)
    pwm.start(5)
    
    while not joy.Back():
        
        # LEDs
        led_state_green  = GPIO.HIGH if joy.A() else GPIO.LOW
        led_state_red    = GPIO.HIGH if joy.B() else GPIO.LOW
        led_state_yellow = GPIO.HIGH if joy.Y() else GPIO.LOW
        led_state_blue   = GPIO.HIGH if joy.X() else GPIO.LOW
            
        GPIO.output(GPIO_LED_GREEN, led_state_green)
        GPIO.output(GPIO_LED_RED, led_state_red)
        GPIO.output(GPIO_LED_YELLOW, led_state_yellow)
        GPIO.output(GPIO_LED_BLUE, led_state_blue)
        
        # Servo
        x, y = joy.leftStick()
        angle = angleFromCoords(x,y)
        if angle &gt; 180 and angle &lt; 270:
            angle = 180
        elif angle &gt;= 270:
            angle = 0
        updateServo(pwm, angle)
        
    
    joy.close()
    pwm.stop()</code></pre>
<div id="raspberry-pi-rc-control" class="section level3">
<h3><span class="header-section-number">17.0.1</span> RASPBERRY PI RC CONTROL</h3>
<p><a href="http://www.instructables.com/id/Raspberry-Pi-RC-Control/" class="uri">http://www.instructables.com/id/Raspberry-Pi-RC-Control/</a></p>
</div>
<div id="python-class-to-support-xbox-360-controller-under-linux-on-raspberrypi" class="section level3">
<h3><span class="header-section-number">17.0.2</span> Python class to support xbox 360 controller under Linux on RaspberryPi</h3>
<p>Python class to support reading xbox 360 wired and wireless controller input under Linux. Makes it easy to get real-time input from controller buttons, analog sticks and triggers. Built and tested on RaspberryPi running Raspbian.</p>
<p>code example</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb149-1"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-1"></a><span class="im">import</span> xbox</span>
<span id="cb149-2"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-2"></a>joy <span class="op">=</span> xbox.Joystick()         <span class="co">#Initialize joystick</span></span>
<span id="cb149-3"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-3"></a></span>
<span id="cb149-4"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-4"></a><span class="cf">if</span> joy.A():                   <span class="co">#Test state of the A button (1=pressed, 0=not pressed)</span></span>
<span id="cb149-5"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-5"></a>    <span class="bu">print</span> <span class="st">&#39;A button pressed&#39;</span></span>
<span id="cb149-6"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-6"></a>x_axis   <span class="op">=</span> joy.leftX()        <span class="co">#X-axis of the left stick (values -1.0 to 1.0)</span></span>
<span id="cb149-7"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-7"></a>(x,y)    <span class="op">=</span> joy.leftStick()    <span class="co">#Returns tuple containing left X and Y axes (values -1.0 to 1.0)</span></span>
<span id="cb149-8"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-8"></a>trigger  <span class="op">=</span> joy.rightTrigger() <span class="co">#Right trigger position (values 0 to 1.0)</span></span>
<span id="cb149-9"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-9"></a></span>
<span id="cb149-10"><a href="based-on-example-in-httpswww-youtube-comwatchv2xcuzxataik.html#cb149-10"></a>joy.close()                   <span class="co">#Cleanup before exit</span></span></code></pre></div>
<p><a href="https://github.com/FRC4564/Xbox" class="uri">https://github.com/FRC4564/Xbox</a></p>
</div>
<div id="xbox-driver-for-mac" class="section level3">
<h3><span class="header-section-number">17.0.3</span> xbox driver for mac</h3>
<p><a href="https://github.com/360Controller/360Controller/releases" class="uri">https://github.com/360Controller/360Controller/releases</a></p>
</div>
<div id="konzept-für-softwareschichten" class="section level3">
<h3><span class="header-section-number">17.0.4</span> Konzept für softwareschichten</h3>
<p>Die Softwareschichten sollen es ermöglichen das teile der software zwischen den bastlern ausgetauscht werden können bzw. unabhängig voneinander entwickelt werden können</p>
<hr />
<p><strong>Arduino</strong></p>
<ul>
<li>comm schicht</li>
<li>actor schicht
<ul>
<li>input
<ul>
<li>geschwindigkeit cm/s resolution TBD</li>
<li>lenkwinkel grad resolution 0.1 degree</li>
</ul></li>
</ul></li>
<li>sensor schicht
<ul>
<li>ultraschall</li>
</ul></li>
</ul>
<hr />
<p><strong>Raspi</strong></p>
<ul>
<li>comm schicht</li>
<li>actor schicht
<ul>
<li>arduino USB seriell oder I2C auf PCA</li>
<li>wlan/USB für den controller TCP/IP</li>
<li>wlan für streaming des videos<br />
</li>
<li>SAMBA zum auslesen des USB sticks</li>
</ul></li>
<li>sensor schicht
<ul>
<li>kamera</li>
</ul></li>
<li>neuronales netz/ oder läuft auf PC<br />
</li>
<li>USB stick für trainingsdatenaufzeichnung<br />
</li>
<li>output
<ul>
<li>geschwindigkeit cm/s resolution TBD<br />
</li>
<li>lenkwinkel grad resolution 0.1 degree<br />
</li>
</ul></li>
<li>input über WLAN vom Laptop
<ul>
<li>geschwindigkeit cm/s resolution TBD<br />
</li>
<li>lenkwinkel grad resolution 0.1 degree</li>
</ul></li>
</ul>
<hr />
<p><strong>Laptop</strong></p>
<ul>
<li>comm schicht
<ul>
<li>controller<br />
</li>
<li>USB stick auslesen</li>
<li>verbindung zum Raspberry</li>
</ul></li>
<li>data pre-processing
<ul>
<li>sensor data</li>
<li>camera data
<ul>
<li>downsampling</li>
<li>color scheme</li>
</ul></li>
</ul></li>
<li>neuronales netz training<br />
</li>
<li>output
<ul>
<li>geschwindigkeit cm/s resolution TBD<br />
</li>
<li>lenkwinkel grad resolution 0.1 degree TBC</li>
</ul></li>
</ul>
<hr />

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="section-4.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="experiences.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["RoboCarDokumentation.pdf", "RoboCarDokumentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
